[{"url":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/comments/2699750204","pull_request_review_id":3672445659,"id":2699750204,"node_id":"PRRC_kwDOQ4pSo86g6us8","diff_hunk":"@@ -28,7 +28,11 @@\n public interface CompatibilityResult {\n \n     int ROLLING_UPGRADE_EXIT_CODE = 0;\n-    int RECREATE_UPGRADE_EXIT_CODE = 4;\n+    // see picocli.CommandLine.ExitCode\n+    // 1 -> software error\n+    // 2 -> usage error\n+    int RECREATE_UPGRADE_EXIT_CODE = 3;","path":"quarkus/runtime/src/main/java/org/keycloak/quarkus/runtime/compatibility/CompatibilityResult.java","commit_id":"0f91e67b9025d978059b21b5c41283e5000a509c","original_commit_id":"0f91e67b9025d978059b21b5c41283e5000a509c","user":{"login":"factory-droid[bot]","id":138933559,"node_id":"BOT_kgDOCEf1Nw","avatar_url":"https://avatars.githubusercontent.com/in/358017?v=4","gravatar_id":"","url":"https://api.github.com/users/factory-droid%5Bbot%5D","html_url":"https://github.com/apps/factory-droid","followers_url":"https://api.github.com/users/factory-droid%5Bbot%5D/followers","following_url":"https://api.github.com/users/factory-droid%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/factory-droid%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/factory-droid%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/factory-droid%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/factory-droid%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/factory-droid%5Bbot%5D/repos","events_url":"https://api.github.com/users/factory-droid%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/factory-droid%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"body":"[P1] Avoid changing existing exit code value (breaking CLI contract)\n\n`RECREATE_UPGRADE_EXIT_CODE` was changed from `4` to `3`, which can break scripts/tests that already interpret `4` as “recreate required”; consider keeping the existing value and introducing a separate constant for the new “feature disabled” case.","created_at":"2026-01-16T19:41:11Z","updated_at":"2026-01-16T19:41:11Z","html_url":"https://github.com/droid-code-review-evals/droid-keycloak/pull/4#discussion_r2699750204","pull_request_url":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/4","_links":{"self":{"href":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/comments/2699750204"},"html":{"href":"https://github.com/droid-code-review-evals/droid-keycloak/pull/4#discussion_r2699750204"},"pull_request":{"href":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/4"}},"reactions":{"url":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/comments/2699750204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":34,"original_line":34,"side":"RIGHT","author_association":"NONE","original_position":8,"position":8,"subject_type":"line"},{"url":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/comments/2699750206","pull_request_review_id":3672445661,"id":2699750206,"node_id":"PRRC_kwDOQ4pSo86g6us-","diff_hunk":"@@ -50,6 +50,6 @@ bin/kc.[sh|bat] bootstrap-admin ${parameters}\n <#macro updatecompatibility parameters>\n [source,bash]\n ----\n-bin/kc.[sh|bat] update-compatibility ${parameters}\n+bin/kc.[sh|bat] update-compatibility ${parameters} --features=rolling-updates","path":"docs/guides/templates/kc.adoc","commit_id":"0f91e67b9025d978059b21b5c41283e5000a509c","original_commit_id":"0f91e67b9025d978059b21b5c41283e5000a509c","user":{"login":"factory-droid[bot]","id":138933559,"node_id":"BOT_kgDOCEf1Nw","avatar_url":"https://avatars.githubusercontent.com/in/358017?v=4","gravatar_id":"","url":"https://api.github.com/users/factory-droid%5Bbot%5D","html_url":"https://github.com/apps/factory-droid","followers_url":"https://api.github.com/users/factory-droid%5Bbot%5D/followers","following_url":"https://api.github.com/users/factory-droid%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/factory-droid%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/factory-droid%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/factory-droid%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/factory-droid%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/factory-droid%5Bbot%5D/repos","events_url":"https://api.github.com/users/factory-droid%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/factory-droid%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"body":"[P2] Don’t force-enable rolling-updates in the update-compatibility template\n\nThis macro now always appends `--features=rolling-updates`, which can unexpectedly enable a preview feature for users following docs; it also prevents testing the “feature disabled” failure path documented elsewhere.","created_at":"2026-01-16T19:41:11Z","updated_at":"2026-01-16T19:41:11Z","html_url":"https://github.com/droid-code-review-evals/droid-keycloak/pull/4#discussion_r2699750206","pull_request_url":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/4","_links":{"self":{"href":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/comments/2699750206"},"html":{"href":"https://github.com/droid-code-review-evals/droid-keycloak/pull/4#discussion_r2699750206"},"pull_request":{"href":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/4"}},"reactions":{"url":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/comments/2699750206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":53,"original_line":53,"side":"RIGHT","author_association":"NONE","original_position":5,"position":5,"subject_type":"line"},{"url":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/comments/2699750209","pull_request_review_id":3672445667,"id":2699750209,"node_id":"PRRC_kwDOQ4pSo86g6utB","diff_hunk":"@@ -105,11 +107,12 @@ private static Keycloak createInitialDeployment(UpdateStrategy updateStrategy) {\n         }\n         var updateSpec = new UpdateSpec();\n         updateSpec.setStrategy(updateStrategy);\n+        kc.getSpec().setUpdateSpec(updateSpec);\n ","path":"operator/src/test/java/org/keycloak/operator/testsuite/integration/UpgradeTest.java","commit_id":"0f91e67b9025d978059b21b5c41283e5000a509c","original_commit_id":"0f91e67b9025d978059b21b5c41283e5000a509c","user":{"login":"factory-droid[bot]","id":138933559,"node_id":"BOT_kgDOCEf1Nw","avatar_url":"https://avatars.githubusercontent.com/in/358017?v=4","gravatar_id":"","url":"https://api.github.com/users/factory-droid%5Bbot%5D","html_url":"https://github.com/apps/factory-droid","followers_url":"https://api.github.com/users/factory-droid%5Bbot%5D/followers","following_url":"https://api.github.com/users/factory-droid%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/factory-droid%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/factory-droid%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/factory-droid%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/factory-droid%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/factory-droid%5Bbot%5D/repos","events_url":"https://api.github.com/users/factory-droid%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/factory-droid%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"body":"[P2] Ensure FeatureSpec exists on all code paths before dereferencing\n\n`kc.getSpec().getFeatureSpec().setEnabledFeatures(...)` will throw if `kc.getSpec()` is null; if `getDefaultKeycloak()` ever returns a Keycloak without `spec`, this becomes an NPE in tests.","created_at":"2026-01-16T19:41:11Z","updated_at":"2026-01-16T19:41:11Z","html_url":"https://github.com/droid-code-review-evals/droid-keycloak/pull/4#discussion_r2699750209","pull_request_url":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/4","_links":{"self":{"href":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/comments/2699750209"},"html":{"href":"https://github.com/droid-code-review-evals/droid-keycloak/pull/4#discussion_r2699750209"},"pull_request":{"href":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/4"}},"reactions":{"url":"https://api.github.com/repos/droid-code-review-evals/droid-keycloak/pulls/comments/2699750209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":111,"original_line":111,"side":"RIGHT","author_association":"NONE","original_position":26,"position":26,"subject_type":"line"}]